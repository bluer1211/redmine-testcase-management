# Redmine Testcase Management Plugin v1.6.5 發布說明

## 🎉 重大功能更新

### 新增完整的 CSV 匯入系統

本次更新為 Redmine Testcase Management Plugin 帶來了完整的 CSV 匯入功能，大幅提升了資料管理的效率和便利性。

## 🚀 主要新功能

### 1. 智能匯入流程
- **新建匯入**: 選擇匯入類型和上傳 CSV 檔案
- **匯入設定**: 配置 CSV 解析參數（分隔符號、包圍符號、編碼）
- **欄位對應**: 智能自動對應 CSV 欄位到系統欄位
- **執行匯入**: 預覽資料並執行匯入操作

### 2. 支援的匯入類型
- **測試案例匯入**: 支援測試案例的批量匯入
- **測試計劃匯入**: 支援測試計劃的批量匯入
- **測試案例執行匯入**: 支援測試執行結果的批量匯入

### 3. 智能自動對應
- **多語系支援**: 自動識別繁體中文、英文、日文的欄位名稱
- **靈活對應**: 支援多種欄位名稱變體的自動對應
- **手動調整**: 允許用戶手動調整自動對應的結果

### 4. 匯入模板系統
- **標準化模板**: 提供標準化的 CSV 模板下載
- **範例資料**: 模板包含範例資料和說明
- **多類型支援**: 分別提供測試案例、測試計劃、測試執行的模板

## 🎨 UI/UX 改善

### 1. 統一的視覺設計
- **按鈕樣式**: 統一所有匯入頁面的按鈕樣式和佈局
- **響應式設計**: 改善表格排版，提供更緊湊和專業的視覺效果
- **一致性**: 確保所有頁面的視覺一致性

### 2. 改善的用戶體驗
- **直觀流程**: 清晰的匯入流程指引
- **錯誤處理**: 完善的錯誤處理和用戶友好的錯誤訊息
- **即時預覽**: 匯入前的資料預覽功能

## 🔧 技術改進

### 1. 新增核心組件
- **Import 模型**: 基礎匯入模型，支援 JSON 序列化
- **專用匯入模型**: TestCaseImport, TestPlanImport, TestCaseExecutionImport
- **ImportsController**: 完整的匯入流程控制器
- **匯入視圖**: 完整的匯入流程視圖檔案

### 2. 資料庫支援
- **新增 imports 表**: 支援匯入記錄的持久化存儲
- **遷移檔案**: 完整的資料庫遷移支援

### 3. 多語系支援
- **完整本地化**: 新增所有匯入相關的翻譯
- **支援語言**: 繁體中文、英文、日文

## 🐛 錯誤修復

### 1. 顯示問題修復
- **檔案名稱顯示**: 修復匯入執行頁面中檔案名稱顯示空白的問題
- **ActiveRecord 物件**: 修復匯入預覽中顯示 ActiveRecord 物件字串的問題
- **欄位對齊**: 修復欄位對應頁面的排版和對齊問題

### 2. 功能穩定性
- **錯誤處理**: 改善各種邊界情況的錯誤處理
- **資料驗證**: 加強匯入資料的驗證機制

## 📋 系統需求

- **Redmine**: 6.0.6 或更高版本
- **Rails**: 7.2.2.1 或更高版本
- **Ruby**: 3.0 或更高版本

## 🔄 升級說明

### 從 v1.6.4 升級到 v1.6.5

1. **備份資料庫**: 升級前請務必備份您的資料庫
2. **停止 Redmine**: 停止 Redmine 服務
3. **更新插件**: 替換插件檔案
4. **執行遷移**: 運行資料庫遷移
5. **重啟服務**: 重啟 Redmine 服務

### 資料庫遷移
```bash
cd /path/to/redmine
bundle exec rake redmine:plugins:migrate RAILS_ENV=production
```

## 📚 使用指南

### 匯入測試案例
1. 進入專案的「測試案例管理」頁面
2. 點擊「匯入」按鈕
3. 選擇「測試案例」類型並上傳 CSV 檔案
4. 配置匯入設定（分隔符號、編碼等）
5. 檢查並調整欄位對應
6. 預覽資料並執行匯入

### 下載匯入模板
1. 在匯入頁面點擊「下載模板」按鈕
2. 選擇需要的模板類型
3. 根據模板格式準備您的 CSV 資料

## 🤝 貢獻與支援

- **問題回報**: [GitHub Issues](https://github.com/bluer1211/redmine-testcase-management/issues)
- **功能建議**: [GitHub Discussions](https://github.com/bluer1211/redmine-testcase-management/discussions)
- **文檔**: 查看 [doc/](doc/) 目錄下的詳細文檔

## 📄 授權

本插件基於 GPL v2+ 授權條款發布。

## 🙏 致謝

本插件基於 SENA Networks Inc. 的開源專案進行延伸開發。

- **原始作者**: 優人 岡田 (okada@sena-networks.co.jp)
- **原始公司**: SENA Networks Inc.
- **延伸開發**: Jason Liu (@bluer1211)

---

**發布日期**: 2025-01-10  
**版本**: 1.6.5  
**相容性**: Redmine 6.0.6+
